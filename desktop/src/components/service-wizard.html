<!-- /desktop/src/components/service-wizard.html -->
<div id="serviceWizardModal" class="modal">
    <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
            <span class="modal-close">&times;</span>
            <h2 id="serviceWizardTitle">Yeni Servis Kaydı</h2>
        </div>
        <div class="modal-body">
            <form id="serviceWizardForm">
                <!-- Step Indicator -->
                <div class="wizard-steps">
                    <div class="step active" data-step="1">1. Müşteri</div>
                    <div class="step" data-step="2">2. Cihaz</div>
                    <div class="step" data-step="3">3. Detaylar</div>
                    <div class="step" data-step="4">4. Planlama</div>
                    <div class="step" data-step="5">5. Onay</div>
                </div>

                <!-- Step 1: Customer Selection -->
                <div class="wizard-step-content active" data-step-content="1">
                    <h4>Müşteri Seçimi</h4>
                    <div class="form-row">
                        <label>Mevcut Müşteri</label>
                        <select name="customer_id" id="wizardCustomerSelect" required>
                            <option value="">Müşteri Seçin veya Yeni Oluşturun</option>
                        </select>
                    </div>
                    <button type="button" id="wizardNewCustomerBtn" class="btn btn-secondary">Veya Yeni Müşteri Ekle</button>
                    <div id="wizardNewCustomerForm" style="display: none; margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
                        <h5>Yeni Müşteri Bilgileri</h5>
                        <div class="form-row">
                            <label>Ad *</label>
                            <input type="text" name="new_customer_first_name">
                        </div>
                        <div class="form-row">
                            <label>Soyad *</label>
                            <input type="text" name="new_customer_last_name">
                        </div>
                        <div class="form-row">
                            <label>Telefon *</label>
                            <input type="tel" name="new_customer_phone">
                        </div>
                    </div>
                </div>

                <!-- Step 2: Device Selection -->
                <div class="wizard-step-content" data-step-content="2">
                    <h4>Cihaz Seçimi</h4>
                    <div id="wizardDeviceList">
                        <!-- Cihazlar buraya yüklenecek -->
                    </div>
                    <button type="button" id="wizardNewDeviceBtn" class="btn btn-secondary">Yeni Cihaz Ekle</button>
                </div>

                <!-- Step 3: Service Details -->
                <div class="wizard-step-content" data-step-content="3">
                    <h4>Servis Detayları</h4>
                    <div class="form-row">
                        <label>Servis Tipi *</label>
                        <select name="service_type" required>
                            <option value="repair">Arıza Tamiri</option>
                            <option value="maintenance">Bakım</option>
                            <option value="installation">Kurulum</option>
                            <option value="check">Kontrol</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label>Sorun Açıklaması *</label>
                        <textarea name="problem_description" required placeholder="Müşterinin bildirdiği sorun..."></textarea>
                    </div>
                    <div class="form-row">
                        <label>Öncelik</label>
                        <select name="priority">
                            <option value="low">Düşük</option>
                            <option value="normal" selected>Normal</option>
                            <option value="high">Yüksek</option>
                            <option value="urgent">Acil</option>
                        </select>
                    </div>
                </div>

                <!-- Step 4: Planning -->
                <div class="wizard-step-content" data-step-content="4">
                    <h4>Planlama</h4>
                    <div class="form-row">
                        <label>Teknisyen Ata</label>
                        <select name="technician_id" id="wizardTechnicianSelect">
                            <option value="">Teknisyen Seçin</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label>Randevu Tarihi</label>
                        <input type="date" name="scheduled_date">
                    </div>
                </div>

                <!-- Step 5: Confirmation -->
                <div class="wizard-step-content" data-step-content="5">
                    <h4>Onay</h4>
                    <div id="wizardSummary">
                        <!-- Özet bilgileri buraya gelecek -->
                    </div>
                </div>

            </form>
        </div>
        <div class="modal-footer wizard-navigation">
            <button type="button" class="btn btn-secondary" id="wizardPrevBtn" style="display: none;">Geri</button>
            <button type="button" class="btn btn-primary" id="wizardNextBtn">İleri</button>
            <button type="submit" form="serviceWizardForm" class="btn btn-primary" id="wizardSaveBtn" style="display: none;">Servisi Kaydet</button>
        </div>
    </div>
</div>
